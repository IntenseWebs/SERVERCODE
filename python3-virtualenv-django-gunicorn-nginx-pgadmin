https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-18-04
# sudo apt install python3 python3-pip
# NORMAL USER - INSTALL PYTHON VIRTUAL ENVIRONMENT & OPEN FIREWALL PORTS

sudo apt-get install python3-venv

mkdir ~/env
python3 -m venv /home/iw/env/firstenv
ls ~/env/firstenv/bin
source ~/env/firstenv/bin/activate
which python
pip install Django gunicorn
# pip install uwsgi --use-pep517
django-admin startproject iwebcity
cd iwebcity
~/iwebcity/manage.py makemigrations
python ~/iwebcity/manage.py migrate
~/iwebcity/manage.py createsuperuser

vi ~/iwebcity/iwebcity/settings.py
ALLOWED_HOSTS = ['.iweb.city', '.localhost', '127.0.0.1', '[::1]', '192.168.1.6']


# TEST DJANGO PYTHON INCLUDED WEBSERVER ONLY
python manage.py runserver 0.0.0.0:8000

~/iwebcity/manage.py makemigrations
python ~/iwebcity/manage.py migrate
~/iwebcity/manage.py collectstatic

cd ~/iwebcity
vi test.py
def application(env, start_response):
    start_response('200 OK', [('Content-Type','text/html')])
    return [b"Hello World!"]

_________________________________________________________________________

source ~/env/firstenv/bin/activate
cd ~/iwebcity
# ~/iwebcity/manage.py runserver 0.0.0.0:8001

gunicorn --bind 0.0.0.0:8001 iwebcity.wsgi

vi /etc/systemd/system/gunicorn.socket
[Unit]
Description=gunicorn socket

[Socket]
ListenStream=/run/gunicorn.sock
SocketUser=www-data

[Install]
WantedBy=sockets.target

vi /etc/systemd/system/gunicorn.service
[Unit]
Description=gunicorn daemon
Requires=gunicorn.socket
After=network.target

[Service]
User=iw
Group=www-data
WorkingDirectory=/home/iw/iwebcity
ExecStart=/home/iw/iwebcity/env/bin/gunicorn \
          --access-logfile - \
          --workers 3 \
          --bind unix:/run/gunicorn.sock \
          iwebcity.wsgi:application

[Install]
WantedBy=multi-user.target

systemctl start gunicorn.socket
systemctl enable gunicorn.socket
systemctl status gunicorn.socket
file /run/gunicorn.sock


_______________________________________________________________
#NGINX

vi dj.iweb.city.conf
upstream django {
    server unix:///home/iw/iwebcity/iwebcity.sock;
}
# configuration of the server
server {
    listen      8001;
    server_name django.iweb.city www.django.iweb.city dj.iweb.city;
    charset     utf-8;
    # max upload size
    client_max_body_size 75M;
    # Django media and static files
    location /media  {
        alias /home/iw/iwebcity/media;
    }
    location /static {
        alias /home/iw/iwebcity/static;
    }
    # Send all non-media requests to the Django server.
    location / {
        uwsgi_pass  django;
        include     /home/iw/iwebcity/uwsgi_params;
    }
}
